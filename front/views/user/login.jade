extends ../layout

block append vars
  -
    title = '用户登录';
    showTop = false;
    showLeftMenu = false;
    bodyAttrs = {
      'ng-app': 'fe',
      'ng-controller': 'UserLoginCtrl'
    };

block content
  .container
    .row
      .col-xs-4.col-xs-offset-4
        h1 用户登录
        form(name='userLoginForm', novalidate, ng-submit='login()')
          .form-group(ng-class="{ 'has-error': (userLoginForm.$submitted || userLoginForm.username.$touched) && userLoginForm.username.$invalid }")
            label(for='username') 用户名
            input#username.form-control(type='text', placeholder='请输入用户名', autofocus, title='请输入用户名', required, name='username', ng-model='user.username')
            span.help-block.small.text-danger(ng-if='(userLoginForm.$submitted || userLoginForm.username.$touched) && userLoginForm.username.$error.required', ng-cloak)
              | 						 请输入用户名
          .form-group(ng-class="{ 'has-error': (userLoginForm.$submitted || userLoginForm.password.$touched) && userLoginForm.password.$invalid }")
            label(for='password') 密码
            input#password.form-control(type='password', title='请输入密码', required, name='password', ng-model='user.password')
            span.help-block.small.text-danger(ng-if='(userLoginForm.$submitted || userLoginForm.password.$touched) && userLoginForm.password.$error.required', ng-cloak)
              | 						 请输入密码
          .checkbox
            label(for='rmb-user')
              input#rmb-user(type='checkbox', ng-model='user.rememberMe')
              | 记住我
          .form-group
            .row
              .col-xs-12
                button.btn.btn-primary.btn-block(type='submit', disabled, ng-disabled='isLoading') 登录
            span.help-block.small(ng-if='error', ng-cloak)
              span.text-danger(ng-bind='error.message')

block append scripts
  script(src='/js/user/login.js')
